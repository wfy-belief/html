<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@6.5.0/dist/d3.min.js"></script>
    <style>
        rect {
            /*fill-opacity: 0.7; 透明度*/
            rx: 10; /* rx ry 设置圆角 */
            ry: 20;
            fill: #FF9900; /* 添加填充色*/
            x: 0; /* 设置起始坐标，x是水平，(x, y) 对应矩形的左上角 */
            height: 25px;
        }
    </style>

</head>
<body>
<svg id="main-svg" width="800" height="600" xmlns="http://www.w3.org/2000/svg">

</svg>

<script>
    'use strict'; /* 严格检查模式 */
    /* dsv 可以指定分隔符 */
    d3.csv('data.csv', function (item) {
        return {
            'province': item.province,
            'sales': +item.sales //字符数字转换为数字类型
        };
    }).then(function (result) {

        d3.select('#main-svg')
            .selectAll('rect')
            .data(result)
            .enter()
            .append('rect')
            .attr('width', item => item.sales)
            .attr('y', (item, index) => index * 30)

        console.log(result);
        /* 处理完数据，开始添加元素 */

    }).catch(error => {
        console.log(error)
    })
</script>
</body>
</html>